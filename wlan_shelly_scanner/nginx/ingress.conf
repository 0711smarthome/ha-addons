# /nginx/ingress.conf
server {
  listen 80;
  
  # Sicherheitseinstellungen bleiben gleich
  allow 172.30.32.2;
  deny all;
  
  # Dateipfad bleibt gleich
  root /var/www;
  index index.html;

  # Dieser Block fängt alle Anfragen ab und behandelt sie.
  # Das ist robuster für Anfragen, die über einen Proxy kommen.
  location / {
    # Versucht, die angeforderte Datei ($uri) oder einen Ordner ($uri/) zu finden.
    # Wenn beides fehlschlägt, wird auf /index.html zurückgegriffen.
    # Dies ist entscheidend für Single-Page-Anwendungen und Ingress.
    try_files $uri $uri/ /index.html;
  }
}